# 선과 면의 표현

- 경계표현(b-rep) : 물체의 외부와 내부를 나누는 경계면을 표현함으로써 입체를 모델링 하는 방법
- 공간분할표현 : 하나의 입체를 서로 겹치지 않으면서 인접한 입체들의 집합으로 표현하는 것
- 구조적 입체기하(CSG) : 여러 개의 객체를 불 연산을 통해 조작하여 입체를 모델링 하는 방법
- 스위핑 : 평면도형을 설계한 후 이를 3차원 공간에서 회전이나 이동 등을 하며 객체를 생성하는 방법
- 보간 곡선 : 주어진 점들을 정해진 조건에 맞게 연결하는 곡선
- 근사 곡선 : 주어진 점들을 연결하도록 복잡한 함수로 정확하게 표현하는 대신 상대적으로 단순한 함수를 이용하여 표현한 곡선
- Hermite 스플라인 곡선 : 곡선의 양 끝점을 나타내는 2개의 제어점과 이 두 점에서의 1차 미분으로 정의되는 매개변수 스플라인 곡선
- 매듭(knot) : B-스플라인 곡선을 정의하는 매개변수 구간을 구분하는 값
- 균일 B-스플라인 : 매듭의 간격이 모두 동일한 B-스플라인
- 비균일 B-스플라인 : 서로 다른 매듭의 간격을 갖는 매듭 벡터에 의해 정의되는 B-스플라인
- 개방 B-스플라인 : 매듭 벡터의 앞과 뒤 d+1개의 매듭 값이 동일한 d차 B-스플라인
- 비균일 유리 B-스플라인(NURBS) : 비균일 매듭벡터와 유리함수 형태의 배합함수에 의해 정의되는 B-스플라인

## 1. 객체의 모델링

### 객체의 모델링

- 선분, 다각형, 원, 타원, 포물선 등
- 스플라인 곡선

### 3차원 객체의 모델링

- 경계표현: 물체의 외부와 내부를 나누는 경계면을 표현함으로써 입체를 모델링하는 방법
- 곡면은 다각형으로 근사화

### 공간분할표현

- 하나의 입체를 서로 겹치지 않는 인접합 입체들의 집합으로 표현
- 예: 8진 트리

### 구조적 입체 기하

- 여러 개의 객체를 불 연산을 통해 조작하여 입체를 모델링
- 하나의 객체는 트리 형태로 표현
- 단말 노드: 단순한 형태의 기본 입체
- 비단말 노드: 연산자(불집합, 기하변환 연산)

### 스위핑

- 평면도형을 설계한 다음, 이 도형을 3차원 공간에서 회전이나 이동 등을 하여 그 궤적을 따라 객체를 생성

## 2. 2차 곡면

### 2차 곡면

- 2차 방정식으로 묘사되는 곡면
- 구, 타원체, 원환체

### glut의 2차 곡면 함수

#### 구

- glutWireSphere: 와이어
- SolidSphere: 면
- slices: z축에 평행하게 나눈 구획의 수
- stacks: z축에 수직으로 나눈 구획의 수

#### 원환체

- nSides: 각각의 방사선 방향 구획의 면 수
- nRings: 방사선 방향의 구획 수

## 3. 매개변수 스플라인 곡선 개요

### 스플라인 곡선

- 정해진 연속성 조건을 만족하는 여러 개의 곡선 조각들로 구성된 곡선
- 제어점을 지정하여 곡선의 모양을 결정하는 다항식을 만듦
- 보간 곡선: 점을 계속해서 연결
- 근사 곡선: 점과 근사하게 그려지는 곡선(점을 통과할 필요는 없음)

### 스플라인 곡선의 매개변수 표현

- o <= u <= 1
- 곡선을 형성하는 좌표 x,y,z 좌표를 하나의 매개변수에 대한 다항식으로 표현
- n차 스플라인 곡선: x(u), y(u), z(u)가 n차 다항식으로 표현되는 스플라인 곡선

### 기하학적 연속성

- 0차: 두 곡선의 끝점이 일치
- 1차: G0 연속성을 만족하면서 연결점에서 1차 미분이 비례
- n차: Gn-1 연속성을 만족하면서 연결점에서 n차 미분이 비례

### 매개변수 연속성

- 곡선 연결 부분의 변화의 상대속도를 고려한 연결성
- n차 매개변수 연속성: Cn-1연속성을 만족하면서 연결점에서 n차 미분이 동일함
- Cn연속성을 만족한다면 Gn연속성도 만족

## 4. Hermite 스플라인 곡선

### Hermite 스플라인 곡선의 정의

- 곡선의 양 끝점에 해당되는 2개의 제어점과 이 두 점에서의 1차 미분에 의해 정의
- p0과 p1을 3차 매개변수 다항식으로 연결

## 5. Bezier 스플라인 곡선

### Bezier 스플라인 곡선의 정의

- n차 Bezier 스플라인 곡선은 n+1개의 제어점으로 정의함
- Bezier 스플라인 곡선의 배합함수의 가중치의 합은 1
- 제어점들로 형성되는 볼록껍질 안에 곡선이 존재함

### 3차 Bezier 곡선과 Hermite 곡선의 관계

- 3차 배지어 곡선의 제어점으로 Hermite 곡선을 만들 수 있음
- p0에서 p1방향으로 3배, p3에서 p2방향으로 -3배

### 국부 제어 불가

- 곡선의 일부만 변경할 수 없음, 제어점 중 하나라도 변경하면 곡선 전체가 그 영향을 받음
- 보통 n차 배지어 곡선을 만들기 보다 3차 배지어 곡선을 여러개 붙여서 사용함(C1연속성)

### 아핀 불변성

- 제어점들을 아핀변환 후 만들어지는 곡선과 곡선을 아핀 변환한 곡선과 동일

## 6. B-스플라인 곡선

### 기본 개념

- m차 매개변수 다항식의 배합함수로 표현되는 곡선
- 0번부터 n번까지의 N개의 제어점을 지정하며, 각각의 제어점마다 배합함수가 정해짐
- 곡선의 차수와 제어점 수에 의해 정해지는 수의 곡선 조각이 연속적으로 이어져 곡선을 형성
- 매개변수 값과 범위의 곡선 설계자가 정할 수 있으며, 곡선의 차수와 제어점 수에 따라 정해지는 개수의 구간으로 구성
- 각각의 매개변수 구간의 경계에 해당되는 매개변수의 값을 매듭이라고 함

### 3차 균일 B-스플라인 곡선의 제어점과 배합함수

- 6개의 제어점 3차 B-스플라인 -> 6+3=9개의 매개변수 구간
- 시작점 ~ 시작점 + n차(m) + 1 의 범위를 가짐
- 배합함수 합이 1인 매개변수 구간에서 곡선 조각이 정의됨
- 곡선의 국부 제어가 가능함
- N개의 제어점이 있다면 N-m개의 구간에서만 곡선이 정의됨
- 1개의 구간에서 0이 아닌 값을 갖는 배합함수는 m+1개
- 한 구간의 곡선은 그 배합함수의 제어점들로 둘러싸인 볼록껍질내에 존재

### B-스플라인 곡선의 설계

- 제어점들과 매듭값들을 지정
- 곡선의 연속성: m차 b-스플라인은 Cm-1연속성을 갖는 곡선을 생성할 수 있음
- 매듭이나 제어점을 중복함으로써 연속성을 낮출 수 있음

## 7. B-스플라인 곡선의 유형과 곡선 제어

### B-스플라인 곡선의 유형

- 균일: 매듭의 간격이 동일, 제어점을 근사화하는 곡선
- 비균일: 매듭의 간격이 일정하지 않음, 조밀하게 배치된 매듭 방향으로 곡선을 끌어당기는 효과
- 비균일 유리: 배합함수를 유리함수로 설계, 가중치를 포함하는 제어점 리스트로 비균일 매듭 벡터. 원근투영에 대한 불변성 성립

### 균일

- 매듭 사이의 간격이 모두 같음
- 어느 구간에서도 특정 배합함수의 값이 1이 되는 곳이 없음(근사 곡선)
- n차 스플라인에서 n개의 점을 중복시키면 그 점을 통과하는 곡선이 그려짐

### 비균일

- 균일하지 않은 매듭 간격
- 좁은 매듭 간격은 특정 배합함수의 폭이 좁아지며 최댓값이 커짐
- 일반적인 적용 방법은 매듭 간격을 0으로 지정하는 것
- 매듭이 중복되는 만큼 연속성이 감소

### 개방 m차 B-스플라인

- 앞과 뒤의 m+1개의 매듭 값을 동일하게 지정하고, 나머지는 균일한 간격으로 지정함
- 양 끝 제어점을 잇는 스플라인 곡선

### 비균일 유리(NURBS)

- 아핀 변환뿐 아니라 원근투영에 대해서도 불변성 성립
- 2차 NURBS로 원뿔곡선을 표현할 수 있음

## 8. 스플라인 곡선

- 쌍3차 베지어 곡면
- 2개의 매개변수에 의해 정의되는 매개변수 곡면
- 4x4개의 제어점으로 정의됨